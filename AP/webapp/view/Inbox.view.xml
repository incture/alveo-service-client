<mvc:View controllerName="com.menabev.AP.controller.Inbox" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m"
	xmlns:fb="sap.ui.comp.filterbar" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core">
	<Page showHeader="false" class="sapUiSizeCompact">
		<content>
			<fb:FilterBar id="filterBarId" search="SearchInboxData" clear="fnClear" showClearButton="true" vSpacing="0" hSpacing="1" position="Right"
				visible="{baseModel>/SearchVisiblity}">
				<fb:filterGroupItems>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="A" label="{i18n>Vendor Id}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/vendorId}"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="B" label="{i18n>inboxRequestID}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/requestId}"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="C" label="{i18n>InvoiceNo}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/extInvNum}" maxSuggestionWidth="16rem" startSuggestion="3" showSuggestion="true"
								filterSuggests="false"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="D" label="{i18n>InvoiceDateFrom}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="yyyy-MM-dd" placeholder="mm/dd/yyyy"
								value="{oTaskInboxModel>/filterParams/createdAtFrom}" tooltip="Invoice From Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="E" label="{i18n>InvoiceDateTo}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="yyyy-MM-dd" placeholder="mm/dd/yyyy" value="{oTaskInboxModel>/filterParams/createdAtTo}"
								tooltip="Invoice To Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="F" label="{i18n>AssignedTo}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/assignedTo}" tooltip="Invoice Value From"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="G" label="{i18n>DueDateFrom}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="yyyy-MM-dd" placeholder="mm/dd/yyyy" value="{oTaskInboxModel>/filterParams/dueDateFrom}"
								tooltip="Due From Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="H" label="{i18n>DueDateTo}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="yyyy-MM-dd" placeholder="mm/dd/yyyy" value="{oTaskInboxModel>/filterParams/dueDateTo}"
								tooltip="Due To Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="K" label="{i18n>ProcessStatus}">
						<fb:control>
							<MultiComboBox selectedKeys="{oTaskInboxModel>/filterParams/validationStatus}"  items="{oDropdownModel>/validationStatus}">
								<core:Item key="{processModel>statusCode}" text="{processModel>shortText}"/>
							</MultiComboBox>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="L" label="{i18n>InvoiceType}">
						<fb:control>
							<Select forceSelection="false" selectedKey="{oTaskInboxModel>/filterParams/invoiceType}">
								<core:Item key="INVOICE" text="Invoice"/>
								<core:Item key="NONPO" text="Non-PO"/>
							</Select>
						</fb:control>
					</fb:FilterGroupItem>
				</fb:filterGroupItems>
			</fb:FilterBar>
			<IconTabBar expanded="true" headerMode="Inline" select="onSelectTab" selectedKey="{oTaskInboxModel>/selectedFilterTab}">
				<items>
					<IconTabFilter text="{i18n>OPENTASK}" key="openTask" count="{oTaskInboxModel>/openTaskCount}">
						<Table items="{oTaskInboxModel>/openTask}" mode="None" class="labelwrapTable" sticky="ColumnHeaders">
							<headerToolbar>
								<OverflowToolbar>
									<ToolbarSpacer></ToolbarSpacer>
									<Button text="{i18n>CreateInvoice}" type="Emphasized" press="onCreateInvoice"
										visible="{path:'oUserDetailModel>/loggedinUserGroup',formatter:'com.menabev.AP.formatter.formatter.createInvoiceVisible'}"/>
									<Button icon="sap-icon://action-settings" type="Emphasized"/>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column hAlign="Center">
									<Label text="{i18n>inboxRequestID}" design="Bold" wrapping="true"/>
								</Column>
								<Column hAlign="Center">
									<Label text="{i18n>Vendor}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice No.}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice Date}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>InvoiceType}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>Value}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>DueDate}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>validationStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>taskStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>ACTION}" design="Bold" wrapping="true"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<Link text="{oTaskInboxModel>requestId}" press="onReqIdOpenSelect" wrapping="true"/>
									<Text text="{oTaskInboxModel>vendorId}-{oTaskInboxModel>vendorName}"/>
									<Text text="{oTaskInboxModel>extInvNum}"/>
									<Text text="{path:'oTaskInboxModel>invoiceDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'}"/>
									<Text text="{oTaskInboxModel>invoiceType}"/>
									<Text text="{oTaskInboxModel>invoiceTotal}"/>
									<Text text="{path:'oTaskInboxModel>dueDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'} "/>
									<Text text="{oTaskInboxModel>validationStatus}"/>
									<Text text="{oTaskInboxModel>taskStatus}"/>
									<core:Icon src="sap-icon://locked" tooltip="claim" press="onClaimRelease">
										<core:layoutData>
											<FlexItemData growFactor="1"/>
										</core:layoutData>
									</core:Icon>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
					<IconTabFilter text="{i18n>MYTASK}" key="myTask" count="{oTaskInboxModel>/myTaskCount}">
						<Table items="{oTaskInboxModel>/myTask}" mode="None" sticky="HeaderToolbar,InfoToolbar,ColumnHeaders">
							<headerToolbar>
								<OverflowToolbar>
									<ToolbarSpacer></ToolbarSpacer>
									<Button text="{i18n>CreateInvoice}" type="Emphasized" press="onCreateInvoice" visible="{oVisibilityModel>/Inbox/btnCreateInvVisible}"/>
									<Button icon="sap-icon://action-settings" type="Emphasized"/>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column hAlign="Center">
									<Label text="{i18n>inboxRequestID}" design="Bold" wrapping="true"/>
								</Column>
								<Column hAlign="Center">
									<Label text="{i18n>Vendor}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice No.}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice Date}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>InvoiceType}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>Value}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>DueDate}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>validationStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>taskStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>ACTION}" design="Bold" wrapping="true"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<Link text="{oTaskInboxModel>requestId}" press="onReqIdClaimSelect" wrapping="true"/>
									<Text text="{oTaskInboxModel>vendorId}-{oTaskInboxModel>vendorName}"/>
									<Text text="{oTaskInboxModel>extInvNum}"/>
									<Text text="{path:'oTaskInboxModel>invoiceDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'}"/>
									<Text text="{oTaskInboxModel>invoiceType}"/>
									<Text text="{oTaskInboxModel>invoiceTotal}"/>
									<Text text="{path:'oTaskInboxModel>dueDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'} "/>
									<Text text="{oTaskInboxModel>validationStatus}"/>
									<Text text="{oTaskInboxModel>taskStatus}"/>
									<core:Icon src="sap-icon://unlocked" tooltip="release" press="onClaimRelease">
										<core:layoutData>
											<FlexItemData growFactor="1"/>
										</core:layoutData>
									</core:Icon>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
					<IconTabFilter text="{i18n>Draft}" key="draft" count="{oTaskInboxModel>/draftCount}">
						<Table items="{oTaskInboxModel>/draftTask}" mode="None" sticky="HeaderToolbar,InfoToolbar,ColumnHeaders">
							<headerToolbar>
								<OverflowToolbar>
									<ToolbarSpacer></ToolbarSpacer>
									<Button text="{i18n>CreateInvoice}" type="Emphasized" press="onCreateInvoice" visible="{oVisibilityModel>/Inbox/btnCreateInvVisible}"/>
									<Button icon="sap-icon://action-settings" type="Emphasized"/>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column hAlign="Center">
									<Label text="{i18n>inboxRequestID}" design="Bold" wrapping="true"/>
								</Column>
								<Column hAlign="Center">
									<Label text="{i18n>Vendor}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice No.}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice Date}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>InvoiceType}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>Value}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>DueDate}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>validationStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>taskStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>ACTION}" design="Bold" wrapping="true"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<Link text="{oTaskInboxModel>requestId}" press="onReqIdClaimSelect" wrapping="true"/>
									<Text text="{oTaskInboxModel>vendorId}-{oTaskInboxModel>vendorName}"/>
									<Text text="{oTaskInboxModel>extInvNum}"/>
									<Text text="{path:'oTaskInboxModel>invoiceDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'}"/>
									<Text text="{oTaskInboxModel>invoiceType}"/>
									<Text text="{oTaskInboxModel>invoiceTotal}"/>
									<Text text="{path:'oTaskInboxModel>dueDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'} "/>
									<Text text="{oTaskInboxModel>validationStatus}"/>
									<Text text="{oTaskInboxModel>taskStatus}"/>
									<Button icon="sap-icon://delete" press="onDeleteDraft"></Button>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
				</items>
			</IconTabBar>
		</content>
		<footer>
			<OverflowToolbar class="pageNumberCls" visible="{oPaginationModel>/pageVisible}">
				<content>
					<VBox justifyContent="Center" alignItems="Center" class="pageNumberDivClass" visible="{oPaginationModel>/pagination/paginationVisible}">
						<HBox>
							<Label text="{i18n>selectedPage} " class="pagingLabel"></Label>
							<Text text="{oPaginationModel>/pagination/currentPage}" class="pagingText"></Text>
						</HBox>
						<HBox class="pageLinkClass">
							<Button id="idCompPrevButton" icon="sap-icon://nav-back" class="navigateButtonClass sapUiSizeCompact" press="onPrevButtonClick"
								type="Transparent"
								visible="{parts:['oPaginationModel>/pagination/currentPage','oPaginationModel>/pagination/TotalPages'],formatter:'com.menabev.AP.formatter.formatter.setLeftPaginationVisible'}"/>
							<HBox items="{oPaginationModel>/pagination/pages}">
								<Link text="{oPaginationModel>page}" press="onPagesClick" class="paginationNumbers"/>
							</HBox>
							<Button id="idCompNextButton" icon="sap-icon://navigation-right-arrow" class="navigateButtonClass sapUiSizeCompact"
								press="onNextButtonClick" type="Transparent"
								visible="{parts:['oPaginationModel>/pagination/currentPage','oPaginationModel>/pagination/TotalPages'],formatter:'com.menabev.AP.formatter.formatter.setRightPaginationVisible'}"/>
						</HBox>
					</VBox>
				</content>
			</OverflowToolbar>
		</footer>
	</Page>
</mvc:View>