<mvc:View controllerName="com.menabev.AP.controller.Inbox" xmlns:mvc="sap.ui.core.mvc" displayBlock="true" xmlns="sap.m"
	xmlns:fb="sap.ui.comp.filterbar" xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core">
	<Page showHeader="false" class="sapUiSizeCompact">
		<content>
			<fb:FilterBar id="filterBarId" search="onSearch" clear="clearFilter" showClearButton="true" vSpacing="0" hSpacing="1" position="Right"
				visible="{baseModel>/SearchVisiblity}">
				<fb:filterGroupItems>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="A" label="{i18n>Vendor Id}">
						<fb:control>
							<Input filterSuggests="false" value="{oTaskInboxModel>/filterParams/vendorId}" showSuggestion="true" suggest="VendorIdSuggest"
								suggestionItemSelected="vendorIdSelected" change="onVendorIdChange" suggestionItems="{oDropDownModel>/VendorIdSuggest}" maxLength="10">
								<suggestionItems>
									<core:ListItem text="{oDropDownModel>Supplier}" additionalText="{oDropDownModel>SupplierName}"/>
								</suggestionItems>
							</Input>
							<!--<Input value="{oTaskInboxModel>/filterParams/vendorId}" maxLength="10"/>-->
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="B" label="{i18n>inboxRequestID}">
						<fb:control>
							<MaskInput mask="CCC-CCCCCCCC-CCCCCCCC" placeholderSymbol="_" placeholder="Enter task number"
								value="{oTaskInboxModel>/filterParams/requestId}">
								<rules>
									<MaskInputRule maskFormatSymbol="C" regex="[A-Z0-9]"/>
								</rules>
							</MaskInput>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="C" label="{i18n>InvoiceNo}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/extInvNum}" maxLength="16"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="D" label="{i18n>InvoiceDateFrom}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="MM/dd/yyyy" placeholder="mm/dd/yyyy"
								value="{oTaskInboxModel>/filterParams/invoiceDateFrom}" tooltip="Invoice From Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="E" label="{i18n>InvoiceDateTo}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="MM/dd/yyyy" placeholder="mm/dd/yyyy"
								value="{oTaskInboxModel>/filterParams/invoiceDateTo}" tooltip="Invoice To Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="F" label="{i18n>AssignedTo}">
						<fb:control>
							<MultiComboBox selectedKeys="{oTaskInboxModel>/filterParams/assignedTo}" items="{oDropDownModel>/taskGroupUsers}" showSecondaryValues="true">
								<core:ListItem key="{oDropDownModel>userId}" text="{oDropDownModel>userId}" additionalText="{oDropDownModel>role}"/>
							</MultiComboBox>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="G" label="{i18n>DueDateFrom}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="MM/dd/yyyy" placeholder="mm/dd/yyyy" value="{oTaskInboxModel>/filterParams/dueDateFrom}"
								tooltip="Due From Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="H" label="{i18n>DueDateTo}">
						<fb:control>
							<DatePicker displayFormat="MM/dd/yyyy" valueFormat="MM/dd/yyyy" placeholder="mm/dd/yyyy" value="{oTaskInboxModel>/filterParams/dueDateTo}"
								tooltip="Due To Date" change="onDateRangeChange"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="I" label="{i18n>InvoiceValueFrom}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/invoiceValueFrom}" type="Number" change="onChangeInvoiceValue"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="J" label="{i18n>InvoiceValueTo}">
						<fb:control>
							<Input value="{oTaskInboxModel>/filterParams/invoiceValueTo}" type="Number" change="onChangeInvoiceValue"/>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="K" label="{i18n>ValidationStatus}">
						<fb:control>
							<MultiComboBox selectedKeys="{oTaskInboxModel>/filterParams/validationStatus}" items="{oDropDownModel>/validationStatus}">
								<core:Item key="{oDropDownModel>statusCode}" text="{oDropDownModel>shortText}"/>
							</MultiComboBox>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="L" label="{i18n>InvoiceType}">
						<fb:control>
							<MultiComboBox selectedKeys="{oTaskInboxModel>/filterParams/invoiceType}" items="{StaticDataModel>/invoiceType}">
								<core:Item key="{StaticDataModel>key}" text="{StaticDataModel>value}"/>
							</MultiComboBox>
						</fb:control>
					</fb:FilterGroupItem>
					<fb:FilterGroupItem groupName="FILTER" partOfCurrentVariant="true" visibleInFilterBar="true" name="M" label="{i18n>TaskStatus}">
						<fb:control>
							<MultiComboBox selectedKeys="{oTaskInboxModel>/filterParams/taskStatus}" items="{StaticDataModel>/taskStatus}">
								<core:Item key="{StaticDataModel>key}" text="{StaticDataModel>value}"/>
							</MultiComboBox>
						</fb:control>
					</fb:FilterGroupItem>
				</fb:filterGroupItems>
			</fb:FilterBar>
			<IconTabBar expanded="true" headerMode="Inline" select="onTabSelectPagination" selectedKey="{oTaskInboxModel>/selectedFilterTab}">
				<items>
					<IconTabFilter text="{i18n>OPENTASK}" key="openTask" count="{oTaskInboxModel>/openTaskCount}">
						<Table items="{oTaskInboxModel>/openTask}" mode="None" class="labelwrapTable" sticky="ColumnHeaders">
							<headerToolbar>
								<OverflowToolbar>
									<ToolbarSpacer></ToolbarSpacer>
									<Button text="{i18n>CreateInvoice}" type="Emphasized" press="onCreateInvoice"
										visible="{path:'oUserDetailModel>/loggedinUserGroup',formatter:'com.menabev.AP.formatter.formatter.createInvoiceVisible'}"/>
									<Button icon="sap-icon://action-settings" type="Emphasized"/>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column hAlign="Center">
									<Label text="{i18n>inboxRequestID}" design="Bold" wrapping="true"/>
								</Column>
								<Column hAlign="Center">
									<Label text="{i18n>Vendor}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice No.}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice Date}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>InvoiceType}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>Value}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>DueDate}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>validationStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true" visible="false">
									<Label text="{i18n>taskStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>RecipientGroup}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>RecipientUser}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>ACTION}" design="Bold" wrapping="true"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<Link text="{oTaskInboxModel>requestId}" press="onReqIdOpenSelect" wrapping="true"/>
									<Label text="{oTaskInboxModel>vendorId}-{oTaskInboxModel>vendorName}" wrapping="true"/>
									<Label text="{oTaskInboxModel>extInvNum}" wrapping="true"/>
									<Label text="{path:'oTaskInboxModel>invoiceDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'}" wrapping="true"/>
									<Label text="{oTaskInboxModel>invoiceType}" wrapping="true"/>
									<Label text="{oTaskInboxModel>invoiceTotal}" wrapping="true"/>
									<Label text="{path:'oTaskInboxModel>dueDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'} " wrapping="true"/>
									<Label text="{oTaskInboxModel>validationStatus}" wrapping="true"/>
									<Label text="{oTaskInboxModel>status}" wrapping="true"/>
									<Label text="{path:'oTaskInboxModel>recipientUsers', formatter:'com.menabev.AP.formatter.formatter.formatRecipient'}"
										tooltip="{path:'oTaskInboxModel>recipientUsers', formatter:'com.menabev.AP.formatter.formatter.arraytoString'}" wrapping="true"/>
									<Label text="{path:'oTaskInboxModel>recipientGroups', formatter:'com.menabev.AP.formatter.formatter.formatRecipient'}"
										tooltip="{path:'oTaskInboxModel>recipientGroups', formatter:'com.menabev.AP.formatter.formatter.arraytoString'}" wrapping="true"/>
									<HBox>
										<core:Icon src="sap-icon://locked" tooltip="claim" press="onClaimRelease"
											visible="{path:'oTaskInboxModel>status', formatter:'com.menabev.AP.formatter.formatter.setClaimVisible'}"/>
										<core:Icon src="sap-icon://unlocked" tooltip="release" press="onClaimRelease"
											visible="{path:'oTaskInboxModel>status', formatter:'com.menabev.AP.formatter.formatter.setReleaseVisible'}"/>
									</HBox>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
					<!--<IconTabFilter text="{i18n>MYTASK}" key="myTask" count="{oTaskInboxModel>/myTaskCount}">-->
					<!--	<Table items="{oTaskInboxModel>/myTask}" mode="None" sticky="HeaderToolbar,InfoToolbar,ColumnHeaders">-->
					<!--		<headerToolbar>-->
					<!--			<OverflowToolbar>-->
					<!--				<ToolbarSpacer></ToolbarSpacer>-->
					<!--				<Button text="{i18n>CreateInvoice}" type="Emphasized" press="onCreateInvoice"-->
					<!--					visible="{path:'oUserDetailModel>/loggedinUserGroup',formatter:'com.menabev.AP.formatter.formatter.createInvoiceVisible'}"/>-->
					<!--				<Button icon="sap-icon://action-settings" type="Emphasized"/>-->
					<!--			</OverflowToolbar>-->
					<!--		</headerToolbar>-->
					<!--		<columns>-->
					<!--			<Column hAlign="Center">-->
					<!--				<Label text="{i18n>inboxRequestID}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--			<Column hAlign="Center">-->
					<!--				<Label text="{i18n>Vendor}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">-->
					<!--				<Label text="{i18n>Invoice No.}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">-->
					<!--				<Label text="{i18n>Invoice Date}" design="Bold"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">-->
					<!--				<Label text="{i18n>InvoiceType}" design="Bold"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">-->
					<!--				<Label text="{i18n>Value}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">-->
					<!--				<Label text="{i18n>DueDate}" design="Bold"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">-->
					<!--				<Label text="{i18n>validationStatus}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">-->
					<!--				<Label text="{i18n>taskStatus}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--			<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">-->
					<!--				<Label text="{i18n>ACTION}" design="Bold" wrapping="true"/>-->
					<!--			</Column>-->
					<!--		</columns>-->
					<!--		<items>-->
					<!--			<ColumnListItem>-->
					<!--				<Link text="{oTaskInboxModel>requestId}" press="onReqIdClaimSelect" wrapping="true"/>-->
					<!--				<Text text="{oTaskInboxModel>vendorId}-{oTaskInboxModel>vendorName}"/>-->
					<!--				<Text text="{oTaskInboxModel>extInvNum}"/>-->
					<!--				<Text text="{path:'oTaskInboxModel>invoiceDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'}"/>-->
					<!--				<Text text="{oTaskInboxModel>invoiceType}"/>-->
					<!--				<Text text="{oTaskInboxModel>invoiceTotal}"/>-->
					<!--				<Text text="{path:'oTaskInboxModel>dueDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'} "/>-->
					<!--				<Text text="{oTaskInboxModel>validationStatus}"/>-->
					<!--				<Text text="{oTaskInboxModel>status}"/>-->
					<!--				<core:Icon src="sap-icon://unlocked" tooltip="release" press="onClaimRelease">-->
					<!--					<core:layoutData>-->
					<!--						<FlexItemData growFactor="1"/>-->
					<!--					</core:layoutData>-->
					<!--				</core:Icon>-->
					<!--			</ColumnListItem>-->
					<!--		</items>-->
					<!--	</Table>-->
					<!--</IconTabFilter>-->
					<IconTabFilter text="{i18n>Draft}" key="draft" count="{oTaskInboxModel>/draftCount}"
						visible="{path:'oUserDetailModel>/loggedinUserGroup',formatter:'com.menabev.AP.formatter.formatter.createInvoiceVisible'}">
						<Table items="{oTaskInboxModel>/draftTask}" mode="MultiSelect" sticky="HeaderToolbar,InfoToolbar,ColumnHeaders">
							<headerToolbar>
								<OverflowToolbar>
									<ToolbarSpacer></ToolbarSpacer>
									<Button text="{i18n>CreateInvoice}" type="Emphasized" press="onCreateInvoice"
										visible="{path:'oUserDetailModel>/loggedinUserGroup',formatter:'com.menabev.AP.formatter.formatter.createInvoiceVisible'}"/>
									<Button text="{i18n>DeleteDraft}" type="Reject" press="onDeleteDraft"/>
									<Button icon="sap-icon://action-settings" type="Emphasized"/>
								</OverflowToolbar>
							</headerToolbar>
							<columns>
								<Column hAlign="Center">
									<Label text="{i18n>inboxRequestID}" design="Bold" wrapping="true"/>
								</Column>
								<Column hAlign="Center">
									<Label text="{i18n>Vendor}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice No.}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>Invoice Date}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Tablet" demandPopin="true">
									<Label text="{i18n>InvoiceType}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>Value}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>DueDate}" design="Bold"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>validationStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true">
									<Label text="{i18n>taskStatus}" design="Bold" wrapping="true"/>
								</Column>
								<Column width="8%" hAlign="Center" minScreenWidth="Desktop" demandPopin="true" visible="false">
									<Label text="{i18n>ACTION}" design="Bold" wrapping="true"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<Link text="{oTaskInboxModel>requestId}" press="onReqIdClaimSelect" wrapping="true"/>
									<Text text="{oTaskInboxModel>vendorId}-{oTaskInboxModel>vendorName}"/>
									<Text text="{oTaskInboxModel>extInvNum}"/>
									<Text text="{path:'oTaskInboxModel>invoiceDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'}"/>
									<Text text="{oTaskInboxModel>invoiceType}"/>
									<Text text="{oTaskInboxModel>invoiceTotal}"/>
									<Text text="{path:'oTaskInboxModel>dueDate', formatter:'com.menabev.AP.formatter.formatter.formatDate'} "/>
									<Text text="{oTaskInboxModel>validationStatus}"/>
									<Text text="{oTaskInboxModel>status}"/>
									<Button icon="sap-icon://delete" press="onDeleteDraft"></Button>
								</ColumnListItem>
							</items>
						</Table>
					</IconTabFilter>
				</items>
			</IconTabBar>
		</content>
		<footer>
			<OverflowToolbar class="pageNumberCls" visible="{oPaginationModel>/pageVisible}">
				<content>
					<VBox justifyContent="Center" alignItems="Center" class="pageNumberDivClass" visible="{oPaginationModel>/pagination/paginationVisible}">
						<!--<HBox>-->
						<!--	<Label text="{i18n>selectedPage} " class="pagingLabel"></Label>-->
						<!--	<Text text="{oPaginationModel>/pagination/currentPage}" class="pagingText"></Text>-->
						<!--</HBox>-->
						<HBox class="pageLinkClass">
							<Button id="idCompPrevButton" icon="sap-icon://nav-back" class="navigateButtonClass sapUiSizeCompact" press="onPrevButtonClick"
								type="Transparent"
								visible="{parts:['oPaginationModel>/pagination/currentPage','oPaginationModel>/pagination/TotalPages'],formatter:'com.menabev.AP.formatter.formatter.setLeftPaginationVisible'}"/>
							<HBox items="{oPaginationModel>/pagination/pages}">
								<Link text="{oPaginationModel>page}" press="onPagesClick"
									visible="{parts:['oPaginationModel>/pagination/currentPage','oPaginationModel>page','oTaskInboxModel>/selectedFilterTab'],formatter:'com.menabev.AP.formatter.formatter.setPaginationClass'}"
									class="paginationNumbers"/>
							</HBox>
							<Button id="idCompNextButton" icon="sap-icon://navigation-right-arrow" class="navigateButtonClass sapUiSizeCompact"
								press="onNextButtonClick" type="Transparent"
								visible="{parts:['oPaginationModel>/pagination/currentPage','oPaginationModel>/pagination/TotalPages'],formatter:'com.menabev.AP.formatter.formatter.setRightPaginationVisible'}"/>
						</HBox>
					</VBox>
				</content>
			</OverflowToolbar>
		</footer>
	</Page>
</mvc:View>